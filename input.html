<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

 <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
<meta charset="utf-8">
<title>Aspiring Mind Coding Task</title>
<link href="css/bootstrap.css" rel="stylesheet" type="text/css">
<script src="js/jquery.js" type="text/javascript"></script>
<script type="text/javascript" src="js/bootstrap.js"></script>
<script type="text/javascript">
function onSelect()
{
	var form=document.getElementsByName('inputForm')[0];
	var lang=form.elements['language'].value;
	if(lang=='java')
	{
		document.getElementById('className').style.display='block';
		$("#classNameinput").attr("required", "true");	
	}
	else if(lang=='c')
	{
		document.getElementById('className').style.display='none';
		$("#classNameinput").removeAttr('required');
	}
	else
	{
		alert('Please Select Language');
	}
}
function addVariables(numArg)
{
	var numArgValue=numArg.value;
	var i=0;
	var div=document.getElementById("varInfo");
	div.innerHTML="";
	for(i=0;i<numArgValue;i++)
	{
		var j=i+1
		div.innerHTML=div.innerHTML+'<fieldset><legend>Information for Variable '+ j +'</legend><label for="var_namelabel">Enter Variable Name:</label><input type="text" class="form-control" name="var_name[]" id=var_name'+i+' placeholder="Enter Variable Name" required ><label for="TypeChoice">Type :</label><select name="type[]" required class="form-control"><option value="default" disabled>Select Type</option><option value="integer" selected>integer</option></select><label for="DimensionChoice">Dimension:</label><select name="dim[]" required class="form-control"><option value="default" disabled>Select Dimension</option><option value="0" selected>0</option><option value="1" >1</option><option value="2" >2</option></select></fieldset>';
	}
	
}
function isNumber(n)
{
	return /^-?[\d.]+(?:e-?\d+)?$/.test(n); 
} 
function checkvalid()
{
	var form=document.getElementsByName('inputForm')[0];
	var functionName=form.elements['functionName'].value;
	var var_name=form.elements['var_name[]'];
	if(isNumber(functionName))
	{
		var textbox=document.getElementById('functionNameInput');
		textbox.focus();
		textbox.scrollIntoView();
		alert('Function name can not be number');
		return false;
	}
	if(typeof(var_name.length)=='undefined')
	{			
			if(isNumber(var_name.value))
			{
				alert('Variable name can not be number');
				document.getElementById('var_name0').focus();
				return false;
			}
	}
	else
	{
		var i=0;
		for(i=0;i<var_name.length;i++)
		{
			if(isNumber(var_name[i].value))
			{
				j=i+1;
				alert('Variable '+ j +' name can not be number');
				document.getElementById('var_name'+i).focus();
				return false;
			}
		}
		
	}
}

</script>
<body>
<div class="container">
	<div class="jumbotron">
		<h1>Internal Tool for Content Provider</h1>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-xs-offset-4 col-xs-4 col-xs-offset-4">
                <form method="post" action="backend.php" role="form" onSubmit="return checkvalid();" name="inputForm">
                    <div class="form-group">
                        <label for="LanguageChoice">
                            Language:
                        </label>
                        <select name="language" required  onChange="onSelect()" class="form-control" >
                            <option value="default" disabled>Select Language
                            </option>
                            <option value="c" selected>C
                            </option>
                            <option value="java">JAVA
                            </option>
                        </select> 
                    </div>
                    <div class="form-group" id="functionName">
                        <label for="functionNamelabel">Function Name:</label>
                        <input type="text" class="form-control" name="functionName" id="functionNameInput" placeholder="Enter Function Name" required>
					</div>
                    <div class="form-group" id="className" style="display:none;">
                        <label for="classNamelabel">Class Name:</label>
                        <input type="text" class="form-control" name="className" placeholder="Enter Class Name" id='classNameinput'>
					</div>
                    <div class="form-group" id="numArg">
                        <label for="numArglabel">Number of Input Arguments:</label>
                        <input type="text" class="form-control" name="numArg" placeholder="Enter Number of Input Arguments" required onChange="addVariables(this)">
					</div>
                    <div class="form-group" id="varInfo">
  					</div>
                    <button type="submit" class="btn btn-primary">Submit</button>
                </form>
            </div>
        </div>
	</div>
</div>
</body>
</html>