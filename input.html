<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

 <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
<meta charset="utf-8">
<title>Aspiring Mind Coding Task</title>
<link href="css/bootstrap.css" rel="stylesheet" type="text/css">
<script src="js/jquery.js" type="text/javascript"></script>
<script type="text/javascript" src="js/bootstrap.js"></script>
<script type="text/javascript">
var k=0;
var maximum=0;
function onSelect(checkBox)
{
	/*var form=document.getElementsByName('inputForm')[0];
	var lang=form.elements['language'].value;
	if(lang=='java')
	{
		document.getElementById('className').style.display='block';
		$("#classNameinput").attr("required", "true");	
	}
	else if(lang=='c')
	{
		document.getElementById('className').style.display='none';
		$("#classNameinput").removeAttr('required');
	}
	else
	{
		alert('Please Select Language');
	}*/
	var name=checkBox.value;
	if(checkBox.checked==true)
	{
		if(checkBox.value=='java')
		{
			document.getElementById('className').style.display='block';
			$("#classNameinput").attr("required", "true");
		}
		document.getElementById(name+'-codediv').style.display='block';
	}
	else
	{
		if(checkBox.value=='java')
		{
			document.getElementById('className').style.display='none';
			$("#classNameinput").removeAttr('required');
		}
		document.getElementById(name+'-codediv').style.display='none';
	}
}
function isNumber(n)
{
	return /^-?[\d.]+(?:e-?\d+)?$/.test(n); 
}
function acceptVariable(form)
{	
	var var_name=form.elements['var_name[]'].value;
	var var_type=form.elements['type[]'].value;
	var var_dim=form.elements['dim[]'].value;
	var cCodeSuggestionVariable=form.elements['cCodeSuggestionVariable'];
	var javaCodeSuggestionVariable=form.elements['javaCodeSuggestionVariable'];
	switch (var_dim)
	{
		case '0':
			var Suggestion=var_type+' '+var_name;
			var cOption=document.createElement("option");
			cOption.setAttribute('selected','true');
			cOption.text=Suggestion;
			cOption.value=Suggestion;
			var javaOption=document.createElement("option");
			javaOption.setAttribute('selected','true');
			javaOption.text=Suggestion;
			javaOption.value=Suggestion;
			try
			{
			// for IE earlier than version 8
				cCodeSuggestionVariable.add(cOption,cCodeSuggestionVariable.options[null]);
				javaCodeSuggestionVariable.add(javaOption,javaCodeSuggestionVariable.options[null]);
			}
			catch (e)
			{
				cCodeSuggestionVariable.add(cOption,null);
				javaCodeSuggestionVariable.add(javaOption,null);
			}
			break;
		case '1':
			var cSuggestion1=var_type+'* '+var_name;
			var cSuggestion2=var_type+' '+var_name+'[]';
			var javaSuggestion1=var_type+'[] '+var_name;
			var javaSuggestion2='ArrayList '+var_name;
			var set_type;
			if( var_type =='int')
				set_type='Integer';
			else if(var_type =='char')
				set_type ='Character'
			var javaSuggestion3='Set<'+ set_type +'> '+var_name;
			var cOption1=document.createElement("option");
			cOption1.setAttribute('selected','true');
			cOption1.text=cSuggestion1;
			cOption1.value=cSuggestion1;
			var javaOption1=document.createElement("option");
			javaOption1.setAttribute('selected','true');
			javaOption1.text=javaSuggestion1;
			javaOption1.value=javaSuggestion1;
			var cOption2=document.createElement("option");
			cOption2.text=cSuggestion2;
			cOption2.value=cSuggestion2;
			var javaOption2=document.createElement("option");
			javaOption2.text=javaSuggestion2;
			javaOption2.value=javaSuggestion2;
			var javaOption3=document.createElement("option");
			javaOption3.text=javaSuggestion3;
			javaOption3.value=javaSuggestion3;
			try
			{
			// for IE earlier than version 8
				cCodeSuggestionVariable.add(cOption1,cCodeSuggestionVariable.options[null]);
				cCodeSuggestionVariable.add(cOption2,cCodeSuggestionVariable.options[null]);
				javaCodeSuggestionVariable.add(javaOption1,javaCodeSuggestionVariable.options[null]);
				javaCodeSuggestionVariable.add(javaOption2,javaCodeSuggestionVariable.options[null]);
				javaCodeSuggestionVariable.add(javaOption3,javaCodeSuggestionVariable.options[null]);
			}
			catch (e)
			{
				cCodeSuggestionVariable.add(cOption1,null);
				cCodeSuggestionVariable.add(cOption2,null);
				javaCodeSuggestionVariable.add(javaOption1,null);
				javaCodeSuggestionVariable.add(javaOption2,null);
				javaCodeSuggestionVariable.add(javaOption3,null);
			}
			break;
		case '2':
			var cSuggestion1=var_type+'** '+var_name;
			var cSuggestion2=var_type+' '+var_name+'[][]';
			var javaSuggestion1=var_type+'[][] '+var_name;
			var javaSuggestion2='ArrayList '+var_name;
			var set_type;
			if( var_type =='int')
				set_type='Integer';
			else if(var_type =='char')
				set_type ='Character'
			var javaSuggestion3='Set<'+ set_type +'> '+var_name;
			var cOption1=document.createElement("option");
			var cOption1=document.createElement("option");
			cOption1.setAttribute('selected','true');
			cOption1.text=cSuggestion1;
			cOption1.value=cSuggestion1;
			var javaOption1=document.createElement("option");
			javaOption1.setAttribute('selected','true');
			javaOption1.text=javaSuggestion1;
			javaOption1.value=javaSuggestion1;
			var cOption2=document.createElement("option");
			cOption2.text=cSuggestion2;
			cOption2.value=cSuggestion2;
			var javaOption2=document.createElement("option");
			javaOption2.text=javaSuggestion2;
			javaOption2.value=javaSuggestion2;
			var javaOption3=document.createElement("option");
			javaOption3.text=javaSuggestion3;
			javaOption3.value=javaSuggestion3;
			try
			{
			// for IE earlier than version 8
				cCodeSuggestionVariable.add(cOption1,cCodeSuggestionVariable.options[null]);
				cCodeSuggestionVariable.add(cOption2,cCodeSuggestionVariable.options[null]);
				javaCodeSuggestionVariable.add(javaOption1,javaCodeSuggestionVariable.options[null]);
				javaCodeSuggestionVariable.add(javaOption2,javaCodeSuggestionVariable.options[null]);
				javaCodeSuggestionVariable.add(javaOption3,javaCodeSuggestionVariable.options[null]);
			}
			catch (e)
			{
				cCodeSuggestionVariable.add(cOption1,null);
				cCodeSuggestionVariable.add(cOption2,null);
				javaCodeSuggestionVariable.add(javaOption1,null);
				javaCodeSuggestionVariable.add(javaOption2,null);
				javaCodeSuggestionVariable.add(javaOption3,null);
			}
			break;
		default:
		
	}
	var form1=document.getElementsByName('inputForm')[0];
	var cCheck=form1.elements['c_language'];
	var javaCheck=form1.elements['java_language'];
	if(cCheck.checked==true)
	cCodeSuggestionVariable.style.display='block';
	if(javaCheck.checked==true)
	javaCodeSuggestionVariable.style.display='block';
	form.elements['submit'].style.display='none';
	if(k==(maximum-1))
	{
		form.elements['close'].innerHTML='Save &amp; Close';
	}
	form.elements['close'].style.display='block';
}
function closeModal()
{
	var form=document.getElementsByName('acceptVariableForm'+k)[0];
	var cCodeSuggestionVariable=form.elements['cCodeSuggestionVariable'].value;
	var javaCodeSuggestionVariable=form.elements['javaCodeSuggestionVariable'].value;
	document.getElementById('c_code_param'+k).innerHTML=cCodeSuggestionVariable;
	document.getElementById('java_code_param'+k).innerHTML=javaCodeSuggestionVariable;
	$('#varDetails'+k).modal('hide');
	k++;
	if(k<maximum)
	{
		$('#varDetails'+k).modal('show');
	}
}
function addVariables(numArg)
{
	var numArgValue=numArg.value;
	maximum=numArgValue;
	if(!isNumber(numArgValue))
	{
		alert('Number of Variables Should be a Number');
		numArg.focus();
	}
	else
	{
		var i=0;
		var cParam=document.getElementById("c_code_parameters");
		var javaParam=document.getElementById("java_code_parameters");
		var div=document.getElementById("varInfo");
		div.innerHTML="";
		cParam.innerHTML="";
		javaParam.innerHTML="";
		for(i=0;i<numArgValue;i++)
		{
			var j=i+1;
			if(i==0)
			{
				cParam.innerHTML=cParam.innerHTML+'<span id="c_code_param'+i+'"></span>';
				javaParam.innerHTML=javaParam.innerHTML+'<span id="java_code_param'+i+'"></span>';
			}
			else
			{
				cParam.innerHTML=cParam.innerHTML+' ,<span id="c_code_param'+i+'"></span>';
				javaParam.innerHTML=javaParam.innerHTML+' ,<span id="java_code_param'+i+'"></span>';
			}
			div.innerHTML=div.innerHTML+'<div class="modal fade" role="dialog" aria-hidden="true" id="varDetails'+i+'" data-backdrop="static"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h3>Information for Variable '+j+'</h3></div><form action="" onSubmit="acceptVariable(this); return false;" name="acceptVariableForm'+i+'" method="post"><div class="modal-body"><select name="cCodeSuggestionVariable" required class="pull-left form-control" style="width:50%; display:none;"><option value="default" disabled>Select Suggestion in C</option></select><select name="javaCodeSuggestionVariable" required class="pull-right form-control" style="width:50%; display:none;"><option value="default" disabled>Select Suggestion in JAVA</option></select><span class="clearfix"></span><label for="var_namelabel">Enter Variable Name:</label><input type="text" class="form-control" id ="var_name'+i+'" onChange="checkVariable(this)" name="var_name[]"  placeholder="Enter Variable Name(arr)" required ><label for="TypeChoice">Type :</label><select name="type[]" required class="form-control"><option value="default" disabled>Select Type</option><option value="int" selected>integer</option><option value="char">character</option></select><label for="DimensionChoice">Dimension:</label><select name="dim[]" required class="form-control"><option value="default" disabled>Select Dimension</option><option value="0" selected>0</option><option value="1" >1</option><option value="2" >2</option></select></div><div class="modal-footer"><button name="close" class="btn btn-primary" onClick="closeModal()" style="display:none;">&gt;Next</button><button type="submit" name="submit" class="btn btn-primary">See Suggestion!</button></div></form></div></div></div>';
		}
		$('#varDetails'+k).modal('show');
	}
} 
function changeFunctionName(input)
{
	if(isNumber(input.value))
	{
		var textbox=document.getElementById('functionNameInput');
		textbox.focus();
		textbox.scrollIntoView();
		alert('Function name can not be number');
	}
	else
	{
		document.getElementById('c_code_functionName').innerHTML=input.value;
		document.getElementById('java_code_functionName').innerHTML=input.value;
	}
}
function checkVariable(input)
{
	if(isNumber(input.value))
	{
		var textbox=document.getElementById('var_name'+k);
		textbox.focus();
		textbox.scrollIntoView();
		alert('Variable name can not be number');
	}
}
function changeClassName(input)
{
	if(isNumber(input.value))
	{
		var textbox=document.getElementById('classNameInput');
		textbox.focus();
		textbox.scrollIntoView();
		alert('Class name can not be number');
	}
	else
	{
		document.getElementById('java_code_className').innerHTML=input.value;
	}
}
/*function checkvalid()
{
	var form=document.getElementsByName('inputForm')[0];
	var cCheck=form.elements['c_language'];
	var javaCheck=form.elements['java_language'];
	 var var_name=form.elements['var_name[]'];
	if(typeof(var_name.length)=='undefined')
	{			
			if(isNumber(var_name.value))
			{
				alert('Variable name can not be number');
				document.getElementById('var_name0').focus();
				return false;
			}
	}
	else
	{
		var i=0;
		for(i=0;i<var_name.length;i++)
		{
			if(isNumber(var_name[i].value))
			{
				j=i+1;
				alert('Variable '+ j +' name can not be number');
				document.getElementById('var_name'+i).focus();
				return false;
			}
		}
		
	}
}*/

</script>
<body>
<div class="container">
	<div class="jumbotron">
		<h1>Internal Tool for Content Provider</h1>
    </div>
    <div class="container">
        <div class="row">
        	<div class="col-xs-3" style="border:rgba(0,0,0,1) thin ridge;">
            	<div id="c-codediv">
                  <h4>C Code</h4><hr>    
                  	<p id='c-code'>                
                    <p><p>#include &lt;stdio.h&gt;</p>
                    <p>int <span id='c_code_functionName'>sort</span>(<span id='c_code_parameters'>int* arr, int n</span>){</p>
                    <p>     // write your code here</p>
                    <p>}</p></p>
                </div>
            </div>
            <div class="col-xs-6">
                <form method="post" action="backend.php" role="form" name="inputForm">
                    <div class="form-group">
                        <label for="LanguageChoice">
                            Language:
                        </label>
                        <!--<select name="language" required  onChange="onSelect()" class="form-control" >
                            <option value="default" disabled>Select Language
                            </option>
                            <option value="c" selected>C
                            </option>
                            <option value="java">JAVA
                            </option>
                        </select> -->
                        <div class="checkbox">
                              <input type="checkbox" name="c_language" value="c" checked onChange="onSelect(this)">C<br>
                              <input type="checkbox" name="java_language" value="java" checked  onChange="onSelect(this)">JAVA
                         </div>
                    </div>
                    <div class="form-group" id="functionName">
                        <label for="functionNamelabel">Function Name:</label>
                        <input type="text" class="form-control" name="functionName" id="functionNameInput" placeholder="Enter Function Name (sort)" required onChange="changeFunctionName(this)">
					</div>
                    <div class="form-group" id="className">
                        <label for="classNamelabel">Class Name:</label>
                        <input type="text" class="form-control" name="className"  placeholder="Enter Class Name (Sort)" id='classNameInput' onChange="changeClassName(this)">
					</div>
                    <div class="form-group" id="numArg">
                        <label for="numArglabel">Number of Input Arguments:</label>
                        <input type="text" class="form-control" name="numArg" placeholder="Enter Number of Input Arguments(1)" required onChange="addVariables(this)">
					</div>
                    <button type="submit" class="btn btn-primary">Submit</button>
                </form>
            </div>
          <div class="col-xs-3" id="java-codediv" style="border:rgba(0,0,0,1) thin ridge;">
            	<h4>JAVA Code</h4><hr>
                
              <p>public class <span id='java_code_className'>Sort</span></p>
                <p>  public int <span id='java_code_functionName'>sort</span>(<span id='java_code_parameters'>ArrayList arr</span>){</p>
                <p>     // write your code here</p>
                <p>  }<br>
                  }</p>
            </div>
        </div>
	</div>
</div>
<div id="varInfo"></div>
</body>
</html>